# DUAL-SVG IMPLEMENTATION - ВИЗУАЛИЗАЦИЯ

## BEFORE (До внедрения)

```
┌────────────────────────────────────────────────┐
│ page-match.php                                  │
│                                                │
│ ┌─────────────────────────────────────────┐   │
│ │ SVG (667 × 1000.52)                      │   │
│ │ Класс: .field-svg                        │   │
│ │                                          │   │
│ │  Вертикально ориентировано              │   │
│ │  (всегда один и тот же размер)          │   │
│ │                                          │   │
│ │  На 480px: rotate: 0deg ✓               │   │
│ │  На 768px: rotate: 90deg ✓ (проблема!)  │   │
│ │  На 1024px: rotate: 90deg ✓             │   │
│ └─────────────────────────────────────────┘   │
│                                                │
│ CSS rotate: 90deg на 1024px                   │
│    ↓                                          │
│    Проблема: Номера игроков не ротируются!  │
│    Решение: Много CSS трансформаций          │
│    Результат: Сложно, хрупко, неполно       │
└────────────────────────────────────────────────┘
```

---

## AFTER (После внедрения)

```
┌────────────────────────────────────────────────────────────────┐
│ page-match.php                                                  │
│                                                                │
│ ┌───────────────────────────┐  ┌──────────────────────────┐   │
│ │ SVG Вертикальное          │  │ SVG Горизонтальное       │   │
│ │ (667 × 1000.52px)         │  │ (298.22 × 198.81px)      │   │
│ │ Класс: .field-svg-vertical│  │ Класс: .field-svg-horiz. │   │
│ │                           │  │                          │   │
│ │ Кружки ⭕                 │  │ Кружки ⭕ (меньше)       │   │
│ │ Номера вертикально       │  │ Номера горизонтально    │   │
│ │                           │  │                          │   │
│ │ Видно на: 480px           │  │ Видно на: 768px+         │   │
│ │ Скрыто на: 768px+         │  │ Скрыто на: 480px         │   │
│ └───────────────────────────┘  └──────────────────────────┘   │
│                                                                │
│ CSS display toggle (простой, понятный)                        │
│    ↓                                                          │
│    @media (max-width: 1024px) { vertical: none, horiz: block}│
│    @media (max-width: 480px) { vertical: block, horiz: none }│
│    ↓                                                          │
│    Результат: ✓ Чистый, простой, надежный                 │
└────────────────────────────────────────────────────────────────┘
```

---

## RESPONSIVE BREAKPOINTS

```
┌──────────────────────────────────────────────────────┐
│                LAYOUT CHART                         │
├──────────────────────────────────────────────────────┤
│                                                      │
│ 480px (Mobile Portrait)                             │
│ ├─ 1 колонна составов                              │
│ └─ Вертикальное поле (667×1000.52) ✓              │
│                                                      │
│                                                      │
│ 768px-1023px (Tablet Portrait/Landscape)           │
│ ├─ 2 колонны составов                              │
│ └─ Горизонтальное поле (298×199) ✓                │
│                                                      │
│                                                      │
│ 1024px+ (Desktop)                                   │
│ ├─ 2 колонны составов                              │
│ ├─ Горизонтальное поле (298×199) ✓                │
│ └─ Полное разложение интерфейса                    │
│                                                      │
└──────────────────────────────────────────────────────┘
```

---

## СТРУКТУРА ФАЙЛОВ

```
wp-content/themes/arsenal/
├── templates/
│   └── page-match.php (931 строка)
│       ├── НОВОЕ: <!-- ВЕРТИКАЛЬНОЕ ПОЛЕ (480px) -->
│       │           <svg class="field-svg field-svg-vertical">
│       │           arsenalgetplayercoords() × 4 позиции
│       │
│       └── НОВОЕ: <!-- ГОРИЗОНТАЛЬНОЕ ПОЛЕ (768px+) -->
│                   <svg class="field-svg field-svg-horizontal">
│                   arsenal_get_player_coords_horizontal() × 4 позиции
│
└── assets/css/
    └── page-match.css (982 строки)
        ├── 1024px media query:
        │   ├─ .field-svg-vertical { display: none; }
        │   └─ .field-svg-horizontal { display: block; }
        │
        ├── 768px media query:
        │   ├─ .field-svg-vertical { display: none; }
        │   └─ .field-svg-horizontal { display: block; }
        │
        └── 480px media query:
            ├─ .field-svg-vertical { display: block; }
            └─ .field-svg-horizontal { display: none; }
```

---

## КООРДИНАТЫ ИГРОКОВ

### Вертикальное поле (667×1000.52)

```
Гостевая команда (синяя) - TOP

        Вратарь
        y=100
        
    Защитники
    y=250
    
  Полузащитники
  y=430
  
   Нападающие
   y=680

═══════════════ Середина поля y=500 ═══════════════

   Нападающие
   y=320
  
  Полузащитники
  y=570
  
    Защитники
    y=750
    
        Вратарь
        y=900

Домашняя команда (красная) - BOTTOM
```

### Горизонтальное поле (298.22×198.81)

```
LEFT                                    RIGHT
Домашняя                               Гостевая
(красная)                              (синяя)

Вр.  Защ. Полу. Напа.  │  Напа. Полу. Защ. Вр.
x=25 x=65 x=115 x=155   │  x=143 x=183 x=233 x=273

┌─────────────────────────────────────────────┐
│                                             │
│  ○ ○○○ ○○○○ ○○○○ │ ○○○○ ○○○○ ○○○ ○ │  (условно)
│                                             │
│         CENTER x=149.11                    │
│         y-spread: 20-178                   │
│                                             │
└─────────────────────────────────────────────┘
```

---

## РЕШЕНИЕ ПРОБЛЕМ

### Проблема: Поле не появляется на мобилах
```
Решение: Проверить что .field-svg-vertical имеет display: block на 480px
```

### Проблема: Оба поля видны одновременно
```
Решение: Убедиться что одно поле имеет display: none в текущем breakpoint'е
```

### Проблема: Номера игроков нечитаемы
```
Решение: 
- На вертикальном: font-size: 14pt, radius: 22px
- На горизонтальном: font-size: 7pt, radius: 10px
(масштабы подобраны для каждого)
```

---

## ИТОГИ

| Аспект | До | После |
|--------|----|----|
| Подход | CSS rotate всего поля | Два разных SVG |
| Ротация текста | Сложная трансформация | Естественная ориентация |
| Количество CSS правил | 10+ трансформаций | 6 display правил |
| Читаемость кода | Запутанная | Понятная |
| Поддержка | Хрупкая | Надежная |
| Производительность | Хорошая | Отличная |
| Кроссбраузер | Требует префиксов | Нативная CSS |

---

**Дата внедрения**: 10 января 2026 г.  
**Автор**: AI Development Assistant  
**Статус**: ✅ Готово к production
